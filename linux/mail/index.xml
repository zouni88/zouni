<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>mail on 西凉观云海</title>
    <link>https://r.xboox.cn/linux/mail/</link>
    <description>Recent content in mail on 西凉观云海</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://r.xboox.cn/linux/mail/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>1. bind-chroot配置</title>
      <link>https://r.xboox.cn/linux/mail/1.bind-chroot%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/1.bind-chroot%E9%85%8D%E7%BD%AE/</guid>
      <description>&lt;p&gt;安装&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;yum%20-y%20install%20bind-chroot&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum -y install bind-chroot&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>2. postfix配置</title>
      <link>https://r.xboox.cn/linux/mail/2.postfix%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/2.postfix%E9%85%8D%E7%BD%AE/</guid>
      <description>&lt;h3 id=&#34;邮箱账号系统账号&#34;&gt;邮箱账号/系统账号&lt;/h3&gt;&#xA;&lt;p&gt;sendmail, postfix 和 dovecot 都是调用本地系统的账户和密码，所以系统用户就是邮件的用户，因此在本地系统创建常规账户即可。&#xA;一开始我单独创建了一个用于邮件的账号，后来感觉太麻烦，就用当前linux登录账号了。但最好不要用root账号，有的地方貌似root是无法远程登录的。&#xA;在vps上用的话，可能当前账号没有配置密码，因为可能从开始就一直是用密钥登录的，需要先给账号设置密码。&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;#%20%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7%0d%0a$%20useradd%20user%0d%0a#%20%e8%ae%be%e7%bd%ae%e5%af%86%e7%a0%81%ef%bc%8c%e4%bc%9a%e8%a6%81%e6%b1%82%e8%be%93%e5%85%a5%e4%b8%a4%e6%ac%a1%e5%af%86%e7%a0%81%0d%0a$%20passwd%20passwd&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 创建用户&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ useradd user&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 设置密码，会要求输入两次密码&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ passwd passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;h3 id=&#34;用于搭建的服务器相关要素&#34;&gt;用于搭建的服务器相关要素&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Postfix-2.8.12.tar.gz      Postfix MTA(邮件传输代理)&lt;br&gt;&#xA;Dovecot-2.1.8.tar.gz      IMAP 和 POP3 邮件服务器&lt;br&gt;&#xA;Postfixadmin-2.3.5.tar.gz    采用PHP编写的开源WEB邮箱及域名账号管理工具&lt;br&gt;&#xA;Roundcubemail-0.8.1.tar.gz  采用PHP编写的开源IMAP邮件WEB客户端&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;1-安装postfix&#34;&gt;1. 安装postfix&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;yum -y install postfix&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;11-安装完成还需要替换系统自带的sendmail&#34;&gt;1.1 安装完成还需要替换系统自带的sendmail：&lt;/h3&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;rpm%20-e%20sendmail%0d%0a%e6%88%96%e8%80%85%0d%0ayum%20remove%20sendmail&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rpm -e sendmail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;或者&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;yum remove sendmail&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;h3 id=&#34;12-修改mta默认邮件传输代理&#34;&gt;1.2 修改MTA（默认邮件传输代理）&lt;/h3&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;alternatives%20--config%20mta&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alternatives --config mta&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;p&gt;然后直接回车即可。&lt;/p&gt;&#xA;&lt;p&gt;检查一下是不是已经设置成功了。&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;alternatives%20--display%20mta&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alternatives --display mta&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;p&gt;第一行可以看到mta的状态。 例如：mat - status is manual.&lt;/p&gt;&#xA;&lt;h2 id=&#34;2-安装dovecot&#34;&gt;2. 安装dovecot&lt;/h2&gt;&#xA;&lt;p&gt;检查dovecot是否已安装&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;[root@154 ~]# rpm -qa | grep dovecot&lt;/p&gt;</description>
    </item>
    <item>
      <title>3. dovecot</title>
      <link>https://r.xboox.cn/linux/mail/3.dovecot/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/3.dovecot/</guid>
      <description>&lt;h3 id=&#34;配置dovecot&#34;&gt;配置dovecot&lt;/h3&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;[root@mail%20~]#%20vi%20/etc/dovecot/dovecot.conf%0d%0a#%2026%e8%a1%8c:%20%e5%a6%82%e6%9e%9c%e4%b8%8d%e4%bd%bf%e7%94%a8IPv6%ef%bc%8c%e8%af%b7%e4%bf%ae%e6%94%b9%e4%b8%ba*%0d%0alisten%20=%20*%0d%0a%0d%0a[root@mail%20~]#%20vi%20/etc/dovecot/conf.d/10-auth.conf%20%0d%0a#%209%e8%a1%8c:%20%e5%8f%96%e6%b6%88%e6%b3%a8%e9%87%8a%e5%b9%b6%e4%bf%ae%e6%94%b9%20disable_plaintext_auth%20=%20no%20%0d%0a#%2097%e8%a1%8c:%20%e6%b7%bb%e5%8a%a0%20auth_mechanisms%20=%20plain%20login%20[root@mail%20~]%0d%0a#%20vi%20/etc/dovecot/conf.d/10-mail.conf%20%0d%0a#%2030%e8%a1%8c:%20%e5%8f%96%e6%b6%88%e6%b3%a8%e9%87%8a%e5%b9%b6%e6%b7%bb%e5%8a%a0%20mail_location%20=%20maildir:~/Maildir%20[root@mail%20~]%0d%0a#%20vi%20/etc/dovecot/conf.d/10-master.conf%20%0d%0a#%2088-90%e8%a1%8c:%20%e5%8f%96%e6%b6%88%e6%b3%a8%e9%87%8a%e5%b9%b6%e6%b7%bb%e5%8a%a0%20%0d%0a#%20Postfix%20smtp%e9%aa%8c%e8%af%81%20unix_listener%20/var/spool/postfix/private/auth%20%7b%20mode%20=%200666%20user%20=%20postfix%20group%20=%20postfix%20%7d%20[root@mail%20~]%0d%0a#%20/etc/rc.d/init.d/dovecot%20start%20Starting%20Dovecot%20Imap:%20[%20OK%20]%20%0d%0a%0d%0a[root@mail%20~]%0d%0a#%20chkconfig%20dovecot%20on%20&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@mail ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vi /etc/dovecot/dovecot.conf&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 26行: 如果不使用IPv6，请修改为*&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;listen &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; *&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@mail ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vi /etc/dovecot/conf.d/10-auth.conf &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 9行: 取消注释并修改 disable_plaintext_auth = no &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 97行: 添加 auth_mechanisms = plain login [root@mail ~]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vi /etc/dovecot/conf.d/10-mail.conf &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 30行: 取消注释并添加 mail_location = maildir:~/Maildir [root@mail ~]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vi /etc/dovecot/conf.d/10-master.conf &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 88-90行: 取消注释并添加 &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Postfix smtp验证 unix_listener /var/spool/postfix/private/auth { mode = 0666 user = postfix group = postfix } [root@mail ~]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# /etc/rc.d/init.d/dovecot start Starting Dovecot Imap: [ OK ] &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@mail ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# chkconfig dovecot on &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;h3 id=&#34;检查端口占用&#34;&gt;检查端口占用&lt;/h3&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;#ZgotmplZ&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo netstat -anp|egrep &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;:25|:110|:143&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>docker-mailserver</title>
      <link>https://r.xboox.cn/linux/mail/docker-mailserver/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/docker-mailserver/</guid>
      <description>&lt;h2 id=&#34;docker-mailserver&#34;&gt;docker-mailserver&lt;/h2&gt;&#xA;&lt;p&gt;[官方文档](&lt;a href=&#34;https://docker-mailserver.github.io/docker-mailserver/latest/&#34;&gt;https://docker-mailserver.github.io/docker-mailserver/latest/&lt;/a&gt;&#xA;usage/)&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-安装-docker-和-docker-compose&#34;&gt;1. 安装 &lt;strong&gt;docker&lt;/strong&gt; 和 &lt;strong&gt;docker-compose&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;mkdir%20-p%20/opt/mailserver%0d%0acd%20/opt/mailserver%0d%0awget%20-P%20/opt/mailserver%20%22https://raw.githubusercontent.com/docker-mailserver/docker-mailserver/master/compose.yaml%22%0d%0awget%20-P%20/opt/mailserver%20%22https://raw.githubusercontent.com/docker-mailserver/docker-mailserver/master/mailserver.env%22&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p /opt/mailserver&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd /opt/mailserver&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget -P /opt/mailserver &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.githubusercontent.com/docker-mailserver/docker-mailserver/master/compose.yaml&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget -P /opt/mailserver &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.githubusercontent.com/docker-mailserver/docker-mailserver/master/mailserver.env&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;h3 id=&#34;2-变价-composeyaml-和-mailserverenv-文件&#34;&gt;2. 变价 &lt;strong&gt;compose.yaml&lt;/strong&gt; 和 &lt;strong&gt;mailserver.env&lt;/strong&gt; 文件&lt;/h3&gt;&#xA;&lt;p&gt;修改配置信息为自己的域名和&lt;/p&gt;&#xA;&lt;h3 id=&#34;3-运行docker-compose&#34;&gt;3. 运行docker-compose&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;docker-compose up -d&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;首次运行容器，需要添加账号&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;docker exec -it &amp;lt;CONTAINER_NAME&amp;gt; setup email add &lt;a href=&#34;mailto:user@example.com&#34;&gt;user@example.com&lt;/a&gt; &amp;lt;your_password&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>foxmail打不开问题</title>
      <link>https://r.xboox.cn/linux/mail/foxmail%E6%89%93%E4%B8%8D%E5%BC%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/foxmail%E6%89%93%E4%B8%8D%E5%BC%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/weixin_42702718/article/details/113176364&#34;&gt;https://blog.csdn.net/weixin_42702718/article/details/113176364&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>设置</title>
      <link>https://r.xboox.cn/linux/mail/%E7%9B%B8%E5%85%B3%E9%87%8D%E8%A6%81%E8%AE%BE%E7%BD%AE/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/%E7%9B%B8%E5%85%B3%E9%87%8D%E8%A6%81%E8%AE%BE%E7%BD%AE/</guid>
      <description>&lt;p&gt;如何判断25端口出口是否开放？ 连接对方服务器，测试请求25端口&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;telnet%20smtp.qq.com%2025&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;telnet smtp.qq.com &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;p&gt;output:&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;[root@154%20conf.d]#%20telnet%20smtp.qq.com%2025%0d%0aTrying%2043.129.255.54...%0d%0aConnected%20to%20smtp.qq.com.%0d%0aEscape%20character%20is%20%27%5e]%27.%0d%0a220%20newxmesmtplogicsvrszb16-1.qq.com%20XMail%20Esmtp%20QQ%20Mail%20Server.&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@154 conf.d&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# telnet smtp.qq.com 25&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Trying 43.129.255.54...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Connected to smtp.qq.com.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Escape character is &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;^]&amp;#39;&lt;/span&gt;.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;220&lt;/span&gt; newxmesmtplogicsvrszb16-1.qq.com XMail Esmtp QQ Mail Server.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;p&gt;&lt;a href=&#34;https://open.work.weixin.qq.com/help/wap/detail?docid=19817&#34;&gt;https://open.work.weixin.qq.com/help/wap/detail?docid=19817&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>邮件相关概念</title>
      <link>https://r.xboox.cn/linux/mail/%E9%82%AE%E4%BB%B6%E7%90%86%E8%AE%BA/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://r.xboox.cn/linux/mail/%E9%82%AE%E4%BB%B6%E7%90%86%E8%AE%BA/</guid>
      <description>&lt;h2 id=&#34;基础知识&#34;&gt;基础知识&lt;/h2&gt;&#xA;&lt;h3 id=&#34;四个概念&#34;&gt;四个概念：&lt;/h3&gt;&#xA;&lt;hr&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;MUA（Mail User Agent）接收邮件所使用的邮件客户端，使用IMAP或POP3协议与服务器通信；例如Foxmail或Outlook。&lt;/li&gt;&#xA;&lt;li&gt;MTA（Mail Transfer Agent） 通过SMTP协议发送、转发邮件；例如Linux中的sendmail和postfix。&lt;/li&gt;&#xA;&lt;li&gt;MDA（Mail Deliver Agent）将MTA接收到的邮件保存到磁盘或指定地方，通常会进行垃圾邮件及病毒扫描；&lt;/li&gt;&#xA;&lt;li&gt;MRA（Mail Receive Agent）负责实现IMAP与POP3协议，与MUA进行交互；&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;SMTP(Simple Mail Transfer Protocol) 发送邮件所使用的标准协议, SSL协议(SMTPS)使用465/994端口, 非SSL协议使用25端口；&lt;br&gt;&#xA;IMAP(Internet Message Access Protocol) 接收邮件使用的标准协议之一, SSL协议(IMAPS)使用993端口, 非SSL协议使用143端口；&lt;br&gt;&#xA;POP3(Post Office Protocol 3) 接收邮件使用的标准协议之一, SSL协议(POP3S)使用995端口, 非SSL协议使用110端口。&lt;/p&gt;&#xA;&lt;p&gt;邮件服务器基本都由MTA，MDA，MRA 组成。&lt;/p&gt;&#xA;&lt;p&gt;常用的MUA有：outlook、thunderbird、Mac Mail、Foxmail；&lt;br&gt;&#xA;常用的MTA服务有：sendmail、postfix；&lt;br&gt;&#xA;常用的MDA有：procmail、dropmail；&lt;br&gt;&#xA;常用的MRA有：dovecot。&lt;/p&gt;&#xA;&lt;p&gt;基础邮件原理（MUA,MTA,MDA）&lt;/p&gt;&#xA;&lt;h3 id=&#34;mailmailx与sendmailpostfix之间的关系&#34;&gt;mail/mailx与sendmail/postfix之间的关系&lt;/h3&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;1、&lt;strong&gt;mail和mailx是负责查看、编写和向MTA发送邮件的MUA，也就是一个邮件客户端应用。mailx是mail的功能加强版，或者mail命令直接就指向了mailx命令。&lt;br&gt;&#xA;2、sendmail和postfix是负责发送、转发邮件的MTA，也就是一个邮件服务器&lt;/strong&gt;。&lt;br&gt;&#xA;3、bin/mail命令会默认使用本地sendmail发送邮件，这样要求本地的机器必须安装和启动Sendmail服务，我们可以配置本机的默认MAT为sendmail还是postfix。而通过修改配置文件/etc/mail.rc可以使用外部SMTP服务器，可以达到不使用sendmail/postfix而用外部的smtp服务器发送邮件的目的。&lt;/p&gt;&#xA;&lt;p&gt;4、mail 命令是 mailx 命令的一个别名，最终指向 /bin/mailx, 如果没有安装，使用 yum install -y mailx 进行安装。&lt;/p&gt;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&lt;div class=&#34;codeblock&#34;&gt;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;copy-button-box&#34;&gt;&#xD;&#xA;            &lt;button class=&#34;copy-button&#34; state=&#34;copy&#34; data=&#34;$%20which%20mail%0d%0a/bin/mail%0d%0a$%20ls%20-l%20/bin/mail%0d%0alrwxrwxrwx%201%20root%20root%2022%207%e6%9c%88%20%2024%2011:07%20/bin/mail%20-%3e%20/etc/alternatives/mail%0d%0a$%20ls%20-l%20/etc/alternatives/mail%0d%0alrwxrwxrwx%201%20root%20root%2010%207%e6%9c%88%20%2024%2011:07%20/etc/alternatives/mail%20-%3e%20/bin/mailx&#34;&gt;&#xD;&#xA;                &lt;i class=&#34;bi bi-copy&#34;&gt;&lt;/i&gt;&#xD;&#xA;            &lt;/button&gt;&#xD;&#xA;        &lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    &#xD;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ which mail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/bin/mail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l /bin/mail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;lrwxrwxrwx &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root root &lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt; 7月  &lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt; 11:07 /bin/mail -&amp;gt; /etc/alternatives/mail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l /etc/alternatives/mail&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;lrwxrwxrwx &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root root &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; 7月  &lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt; 11:07 /etc/alternatives/mail -&amp;gt; /bin/mailx&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xD;&#xA;    &#xD;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;h3 id=&#34;sendmailpostfixqmail三个主流mta对比&#34;&gt;sendmail/postfix/qmail三个主流MTA对比&lt;/h3&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;几年以前，Linux环境下可以选择的可以免费邮件服务器软件只有Sendmail，但是由于Sendmail的缺陷，一些开发者先后开发了若干种其他的邮件服务器软件。当前，运行在Linux环境下免费的邮件服务器，或者称为MTA(Mail Transfer Agent)有若干种选择，比较常见的有Sendmail、Qmail、Postfix、exim及Zmailer等等。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
